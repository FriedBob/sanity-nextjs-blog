"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{57284:function(a,b,c){function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var e=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==d(a)&&"function"!=typeof a)return{default:a};var b=f();if(b&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if(Object.prototype.hasOwnProperty.call(a,g)){var h=e?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(c,g,h):c[g]=a[g]}return c.default=a,b&&b.set(a,c),c}(c(67294));function f(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return f=function(){return a},a}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){m(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b){return(j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function k(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n="64px",o={},p=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&j(a,b)}(r,a);var b,c,f,g,p,q=(b=r,c=function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(b){return!1}}(),function(){var a,e,f,g=l(b);if(c){var h=l(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return a=this,e=f,e&&("object"===d(e)||"function"==typeof e)?e:k(a)});function r(){var a;!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,r);for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return a=q.call.apply(q,[this].concat(c)),m(k(a),"mounted",!1),m(k(a),"state",{image:null}),m(k(a),"handleKeyPress",function(b){("Enter"===b.key||" "===b.key)&&a.props.onClick()}),a}return f=r,g=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(a){var b=this.props,c=b.url,d=b.light;(a.url!==c||a.light!==d)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(a){var b=this,c=a.url,d=a.light,e=a.oEmbedUrl;if("string"==typeof d){this.setState({image:d});return}if(o[c]){this.setState({image:o[c]});return}return this.setState({image:null}),window.fetch(e.replace("{url}",c)).then(function(a){return a.json()}).then(function(a){if(a.thumbnail_url&&b.mounted){var d=a.thumbnail_url.replace("height=100","height=480");b.setState({image:d}),o[c]=d}})}},{key:"render",value:function(){var a=this.props,b=a.onClick,c=a.playIcon,d=a.previewTabIndex,f=this.state.image,g={display:"flex",alignItems:"center",justifyContent:"center"},i={preview:h({width:"100%",height:"100%",backgroundImage:f?"url(".concat(f,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},g),shadow:h({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:n,width:n,height:n},g),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},j=e.default.createElement("div",{style:i.shadow,className:"react-player__shadow"},e.default.createElement("div",{style:i.playIcon,className:"react-player__play-icon"}));return e.default.createElement("div",{style:i.preview,className:"react-player__preview",onClick:b,tabIndex:d,onKeyPress:this.handleKeyPress},c||j)}}],i(f.prototype,g),p&&i(f,p),r}(e.Component);b.default=p}}])